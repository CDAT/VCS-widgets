{"version":3,"sources":["../../src/graphicsmethods/DatawcCoordinates.jsx"],"names":["validate","value","maximum","match","new_value","Number","parseFloat","Math","abs","DatawcCoordinates","createClass","propTypes","handleChange","PropTypes","func","x1","number","x2","y1","y2","getInitialState","props","componentWillReceiveProps","nextProps","setState","handleBlur","event","name","target","$","focus","render","x1_usage","x2_usage","y1_usage","y2_usage","state","toExponential"],"mappings":"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","file":"DatawcCoordinates.js","sourcesContent":["import React from 'react'\nimport Usage from '../Usage'\n/* global $ */\n\nfunction validate(value, maximum) {\n    if (typeof(value) === 'string') {\n        if(value.match(/^[\\+-]?[0-9]+(\\.[0-9]+)?$/)) {\n            let new_value = Number.parseFloat(value);\n            if(Math.abs(new_value) > maximum){\n                return false;\n            } else {\n                return new_value;\n            }\n        } else {\n            return false;\n        }\n    }\n}\nvar DatawcCoordinates = React.createClass({\n    propTypes: {\n        handleChange: React.PropTypes.func,\n        x1: React.PropTypes.number,\n        x2: React.PropTypes.number,\n        y1: React.PropTypes.number,\n        y2: React.PropTypes.number\n    },\n    getInitialState(){\n        return {\n            x1: this.props.x1,\n            x2: this.props.x2,\n            y1: this.props.y1,\n            y2: this.props.y2\n        }\n    },\n    componentWillReceiveProps(nextProps) {\n        this.setState({\n            x1: nextProps.x1,\n            x2: nextProps.x2,\n            y1: nextProps.y1,\n            y2: nextProps.y2\n        })\n    },\n    handleBlur(event){\n        let name = event.target.name;\n        let maximum = name.match(/x/) ?180 : 90;\n        let value = validate(event.target.value, maximum);\n        if(value !== false) {\n            this.props.handleChange(name, value)\n        } else {\n            // set usage, reset state\n            switch(name){\n                case \"datawc_x1\":\n                    $('#x1-usage').focus()\n                    this.setState({x1: this.props.x1});\n                    break;\n                case \"datawc_x2\":\n                    $('#x2-usage').focus()\n                    this.setState({x2: this.props.x2});\n                    break;\n                case \"datawc_y1\":\n                    $('#y1-usage').focus()\n                    this.setState({y1: this.props.y1});\n                    break;\n                case \"datawc_y2\":\n                    $('#y2-usage').focus()\n                    this.setState({y2: this.props.y2});\n                    break;\n            }\n        }\n    },\n    render(){\n        let x1_usage = \"Longitude value representing where the plot's x axis should start.\\n\"+\n                       \"Values must be numbers from -180 to 180 (degrees of longitude).\"\n        let x2_usage = \"Longitude value representing where the plot's x axis should end.\\n\"+\n                       \"Values must be numbers from -180 to 180 (degrees of longitude).\"\n        let y1_usage = \"Latitude value representing where the plot's y axis should start.\\n\"+\n                       \"Values must be numbers from -90 to 90 (degrees of latitude).\"\n        let y2_usage = \"Latitude value representing where the plot's y axis should start.\\n\"+\n                       \"Values must be numbers from -90 to 90 (degrees of latitude).\"\n        return (\n            <div className='col-md-12'>\n                <h4>World Coordinates</h4>\n                <div className='col-md-12'>\n                    <div className=\"row\">\n                        <div className='col-md-6'>\n                        <h5> datawc_x1: </h5>\n                            <input type=\"text\"\n                                name=\"datawc_x1\"\n                                value={\n                                    typeof this.state.x1 === \"number\" && this.state.x1 > 1e4\n                                    ? this.state.x1.toExponential()\n                                    : this.state.x1\n                                }\n                                onChange={(event)=>this.setState({x1: event.target.value})}\n                                onBlur={this.handleBlur}/>\n                            <Usage id=\"x1-usage\" usage={x1_usage}/>\n                        </div>\n                        <div className='col-md-6'>\n                            <h5>datawc_x2: </h5>\n                            <input type=\"text\"\n                                name=\"datawc_x2\"\n                                value={\n                                    typeof this.state.x2 === \"number\" && this.state.x2 > 1e4\n                                    ? this.state.x2.toExponential()\n                                    : this.state.x2\n                                }\n                                onChange={(event)=>this.setState({x2: event.target.value})}\n                                onBlur={this.handleBlur}/>\n                            <Usage id=\"x2-usage\" usage={x2_usage}/>\n                        </div>\n                    </div>\n                    <div className=\"row\">\n                        <div className='col-md-6'>\n                            <h5>datawc_y1: </h5>\n                            <input type=\"text\"\n                                name=\"datawc_y1\"\n                                value={\n                                    typeof this.state.y1 === \"number\" && this.state.y1 > 1e4\n                                    ? this.state.y1.toExponential()\n                                    : this.state.y1\n                                }\n                                onChange={(event)=>this.setState({y1: event.target.value})}\n                                onBlur={this.handleBlur}/>\n                            <Usage id=\"y1-usage\" usage={y1_usage}/>\n                        </div>\n                        <div className='col-md-6'>\n                            <h5>datawc_y2: </h5>\n                            <input type=\"text\"\n                                name=\"datawc_y2\"\n                                value={\n                                    typeof this.state.y2 === \"number\" && this.state.y2 > 1e4\n                                    ? this.state.y2.toExponential()\n                                    : this.state.y2\n                                }\n                                onChange={(event)=>this.setState({y2: event.target.value})}\n                                onBlur={this.handleBlur}/>\n                            <Usage id=\"y2-usage\" usage={y2_usage}/>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n});\n\nexport default DatawcCoordinates;\n"]}