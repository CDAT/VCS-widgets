{"version":3,"sources":["../../src/graphicsmethods/DatawcCoordinates.jsx"],"names":["validate","value","maximum","match","new_value","Number","parseFloat","Math","abs","DatawcCoordinates","createClass","propTypes","handleChange","PropTypes","func","x1","number","x2","y1","y2","getInitialState","props","componentWillReceiveProps","nextProps","setState","handleBlur","event","name","target","render","state","toExponential"],"mappings":"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","file":"DatawcCoordinates.js","sourcesContent":["import React from 'react'\nimport Usage from '../Usage'\n/* global $ */\n\nfunction validate(value, maximum) {\n    if (typeof(value) === 'string') {\n        if(value.match(/^[\\+-]?[0-9]+(\\.[0-9]+)?$/)) {\n            let new_value = Number.parseFloat(value);\n            if(Math.abs(new_value) > maximum){\n                return false;\n            } else {\n                return new_value;\n            }\n        } else {\n            return false;\n        }\n    }\n}\nvar DatawcCoordinates = React.createClass({\n    propTypes: {\n        handleChange: React.PropTypes.func,\n        x1: React.PropTypes.number,\n        x2: React.PropTypes.number,\n        y1: React.PropTypes.number,\n        y2: React.PropTypes.number\n    },\n    getInitialState(){\n        return {\n            x1: this.props.x1,\n            x2: this.props.x2,\n            y1: this.props.y1,\n            y2: this.props.y2\n        }\n    },\n    componentWillReceiveProps(nextProps) {\n        this.setState({\n            x1: nextProps.x1,\n            x2: nextProps.x2,\n            y1: nextProps.y1,\n            y2: nextProps.y2\n        })\n    },\n    handleBlur(event){\n        let name = event.target.name;\n        let maximum = name.match(/x/) ?180 : 90;\n        let value = validate(event.target.value, maximum);\n        if(value !== false) {\n            this.props.handleChange(name, value)\n        } else {\n            // set usage, reset state\n            switch(name){\n                case \"datawc_x1\":\n                    this.setState({x1: this.props.x1});\n                    break;\n                case \"datawc_x2\":\n                    this.setState({x2: this.props.x2});\n                    break;\n                case \"datawc_y1\":\n                    this.setState({y1: this.props.y1});\n                    break;\n                case \"datawc_y2\":\n                    this.setState({y2: this.props.y2});\n                    break;\n            }\n        }\n    },\n    render(){\n        return (\n            <div>\n                <div className=\"row\">\n                    <div className='col-md-6'>\n                    <h5> datawc_x1: </h5>\n                        <input type=\"text\"\n                            name=\"datawc_x1\"\n                            value={\n                                typeof this.state.x1 === \"number\" && this.state.x1 > 1e4\n                                ? this.state.x1.toExponential()\n                                : this.state.x1\n                            }\n                            onChange={(event)=>this.setState({x1: event.target.value})}\n                            onBlur={this.handleBlur}/>\n                        <Usage usage=\"Longitude value representing where the plot's x axis should start\"/>\n                    </div>\n                    <div className='col-md-6'>\n                        <h5>datawc_x2: </h5>\n                        <input type=\"text\"\n                            name=\"datawc_x2\"\n                            value={\n                                typeof this.state.x2 === \"number\" && this.state.x2 > 1e4\n                                ? this.state.x2.toExponential()\n                                : this.state.x2\n                            }\n                            onChange={(event)=>this.setState({x2: event.target.value})}\n                            onBlur={this.handleBlur}/>\n                        <Usage id=\"x2-usage\"\n                            usage=\"Longitude value representing where the plot's x axis should end\"/>\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div className='col-md-6'>\n                        <h5>datawc_y1: </h5>\n                        <input type=\"text\"\n                            name=\"datawc_y1\"\n                            value={\n                                typeof this.state.y1 === \"number\" && this.state.y1 > 1e4\n                                ? this.state.y1.toExponential()\n                                : this.state.y1\n                            }\n                            onChange={(event)=>this.setState({y1: event.target.value})}\n                            onBlur={this.handleBlur}/>\n                        <Usage id=\"y1-usage\"\n                            usage=\"Latitude value representing where the plot's y axis should start\"/>\n                    </div>\n                    <div className='col-md-6'>\n                        <h5>datawc_y2: </h5>\n                        <input type=\"text\"\n                            name=\"datawc_y2\"\n                            value={\n                                typeof this.state.y2 === \"number\" && this.state.y2 > 1e4\n                                ? this.state.y2.toExponential()\n                                : this.state.y2\n                            }\n                            onChange={(event)=>this.setState({y2: event.target.value})}\n                            onBlur={this.handleBlur}/>\n                        <Usage id=\"y2-usage\"\n                            usage=\"Latitude value representing where the plot's y axis should end\"/>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n});\n\nexport default DatawcCoordinates;\n"]}